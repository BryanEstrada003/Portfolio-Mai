import{D as A,F as q,G as S,H as z,I as D,J as I,K as g,L as G,M as H,N as Z,k as J,O as Q,E as V,P as W,Q as X,R as k,S as ee,T as M,U as re,V as se,h as K,W as te,X as O,Y as ne,Z as x,C as ie,_ as ae,s as U,a0 as ue,g as v,a1 as fe,a2 as y,a3 as ce,a4 as Y,a5 as oe,a6 as E,a7 as le,a8 as de,a9 as pe,aa as he,ab as _e,ac as ve,w as be,z as we,ad as N,ae as L,af as _,ag as F,ah as Pe,ai as Se}from"./CBaxyucZ.js";class ge{anchor;#r=new Map;#s=new Map;#e=new Map;#t=new Set;#n=!0;constructor(r,t=!0){this.anchor=r,this.#n=t}#i=()=>{var r=A;if(this.#r.has(r)){var t=this.#r.get(r),s=this.#s.get(t);if(s)q(s),this.#t.delete(t);else{var n=this.#e.get(t);n&&(this.#s.set(t,n.effect),this.#e.delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),s=n.effect)}for(const[i,u]of this.#r){if(this.#r.delete(i),i===r)break;const a=this.#e.get(u);a&&(S(a.effect),this.#e.delete(u))}for(const[i,u]of this.#s){if(i===t||this.#t.has(i))continue;const a=()=>{if(Array.from(this.#r.values()).includes(i)){var o=document.createDocumentFragment();H(u,o),o.append(D()),this.#e.set(i,{effect:u,fragment:o})}else S(u);this.#t.delete(i),this.#s.delete(i)};this.#n||!s?(this.#t.add(i),z(u,a,!1)):a()}}};#a=r=>{this.#r.delete(r);const t=Array.from(this.#r.values());for(const[s,n]of this.#e)t.includes(s)||(S(n.effect),this.#e.delete(s))};ensure(r,t){var s=A,n=Z();if(t&&!this.#s.has(r)&&!this.#e.has(r))if(n){var i=document.createDocumentFragment(),u=D();i.append(u),this.#e.set(r,{effect:I(()=>t(u)),fragment:i})}else this.#s.set(r,I(()=>t(this.anchor)));if(this.#r.set(s,r),n){for(const[a,f]of this.#s)a===r?s.unskip_effect(f):s.skip_effect(f);for(const[a,f]of this.#e)a===r?s.unskip_effect(f.effect):s.skip_effect(f.effect);s.oncommit(this.#i),s.ondiscard(this.#a)}else g&&(this.anchor=G),this.#i()}}function Te(e,r,t=!1){g&&Q();var s=new ge(e),n=t?V:0;function i(u,a){if(g){const o=W(e)===X;if(u===o){var f=k();ee(f),s.anchor=f,M(!1),s.ensure(u,a),M(!0);return}}s.ensure(u,a)}J(()=>{var u=!1;r((a,f=!0)=>{u=!0,i(f,a)}),u||i(!1,null)},n)}function B(e,r){return e===r||e?.[O]===r}function Ae(e={},r,t,s){return re(()=>{var n,i;return se(()=>{n=i,i=[],K(()=>{e!==t(...i)&&(r(e,...i),n&&B(t(...n),e)&&r(null,...n))})}),()=>{te(()=>{i&&B(t(...i),e)&&r(null,...i)})}}),e}let w=!1,m=Symbol();function De(e,r,t){const s=t[r]??={store:null,source:ie(void 0),unsubscribe:x};if(s.store!==e&&!(m in t))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=x;else{var n=!0;s.unsubscribe=ae(e,i=>{n?s.source.v=i:U(s.source,i)}),n=!1}return e&&m in t?ue(e):v(s.source)}function Ie(e,r,t){let s=t[r];return s&&s.store!==e&&(s.unsubscribe(),s.unsubscribe=x),e}function Me(){const e={};function r(){ne(()=>{for(var t in e)e[t].unsubscribe();fe(e,m,{enumerable:!1,value:!0})})}return[e,r]}function xe(e){var r=w;try{return w=!1,[e(),w]}finally{w=r}}const ye={get(e,r){if(!e.exclude.includes(r))return e.props[r]},set(e,r){return!1},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Ne(e,r,t){return new Proxy({props:e,exclude:r},ye)}const me={get(e,r){if(!e.exclude.includes(r))return v(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,t){if(!(r in e.special)){var s=E;try{L(e.parent_effect),e.special[r]=Ee({get[r](){return e.props[r]}},r,Y)}finally{L(s)}}return e.special[r](t),N(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},deleteProperty(e,r){return e.exclude.includes(r)||(e.exclude.push(r),N(e.version)),!0},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Le(e,r){return new Proxy({props:e,exclude:r,special:{},version:de(0),parent_effect:E},me)}const Oe={get(e,r){let t=e.props.length;for(;t--;){let s=e.props[t];if(_(s)&&(s=s()),typeof s=="object"&&s!==null&&r in s)return s[r]}},set(e,r,t){let s=e.props.length;for(;s--;){let n=e.props[s];_(n)&&(n=n());const i=y(n,r);if(i&&i.set)return i.set(t),!0}return!1},getOwnPropertyDescriptor(e,r){let t=e.props.length;for(;t--;){let s=e.props[t];if(_(s)&&(s=s()),typeof s=="object"&&s!==null&&r in s){const n=y(s,r);return n&&!n.configurable&&(n.configurable=!0),n}}},has(e,r){if(r===O||r===F)return!1;for(let t of e.props)if(_(t)&&(t=t()),t!=null&&r in t)return!0;return!1},ownKeys(e){const r=[];for(let t of e.props)if(_(t)&&(t=t()),!!t){for(const s in t)r.includes(s)||r.push(s);for(const s of Object.getOwnPropertySymbols(t))r.includes(s)||r.push(s)}return r}};function Be(...e){return new Proxy({props:e},Oe)}function Ee(e,r,t,s){var n=!he||(t&_e)!==0,i=(t&pe)!==0,u=(t&Pe)!==0,a=s,f=!0,o=()=>(f&&(f=!1,a=u?K(s):s),a),d;if(i){var C=O in e||F in e;d=y(e,r)?.set??(C&&r in e?c=>e[r]=c:void 0)}var p,R=!1;i?[p,R]=xe(()=>e[r]):p=e[r],p===void 0&&s!==void 0&&(p=o(),d&&(n&&ce(),d(p)));var l;if(n?l=()=>{var c=e[r];return c===void 0?o():(f=!0,c)}:l=()=>{var c=e[r];return c!==void 0&&(a=void 0),c===void 0?a:c},n&&(t&Y)===0)return l;if(d){var j=e.$$legacy;return(function(c,b){return arguments.length>0?((!n||!b||j||R)&&d(b?l():c),c):l()})}var P=!1,h=((t&ve)!==0?be:we)(()=>(P=!1,l()));i&&v(h);var $=E;return(function(c,b){if(arguments.length>0){const T=b?v(h):n&&i?oe(c):c;return U(h,T),P=!0,a!==void 0&&(a=T),c}return Se&&P||($.f&le)!==0?h.v:v(h)})}export{ge as B,Me as a,Ae as b,Be as c,Ie as d,Te as i,Le as l,Ee as p,Ne as r,De as s};
